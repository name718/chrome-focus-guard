# Chrome FocusGuard Extension

## 产品定位
**名称**: FocusGuard / ZenMode / 专注结界  
**核心价值**: 帮助用户主动隔离干扰源 + 科学管理时间 + 净化工作环境，一站式解决"分心"痛点。

## 核心功能设计

### 1. 智能网站屏蔽系统

#### 黑名单管理
- 用户可手动添加/导入常见干扰网站（如微博、抖音、知乎热榜、游戏站点）
- 支持模糊匹配（如 `*.twitter.com/*`）和整站屏蔽

#### 专注时间计划
- 设置每日/每周的固定专注时段（如工作日 9:00-12:00）
- 支持"立即开启专注模式"的快捷入口

#### 重定向策略
当用户访问黑名单网站时，强制跳转至激励页面：
- 显示用户预设的待办事项清单（同步Todoist等工具）
- 动态展示励志名言或用户自定义标语（如"写完PPT再刷！"）
- 倒计时解锁功能（"5分钟后可访问"缓解戒断焦虑）

### 2. 沉浸式番茄钟

#### 场景化计时器
- 在当前标签页顶部嵌入半透明计时条（不打断工作流）
- 提供经典番茄钟（25分钟）和深度模式（50分钟）选项

#### 专注锁屏机制
- 计时结束自动冻结页面5秒，显示深呼吸动效 + 休息提示
- 用户需点击"确认休息"才能解除（防无意识跳过）

#### 数据成就系统
- 统计每日完成番茄数，生成专注趋势报告
- 解锁虚拟勋章（如"连续7天专注达人"）

### 3. 页面净化引擎

#### 干扰元素一键移除
点击插件图标激活"净化模式"，自动删除：
- 社交媒体侧边栏（微信/微博推荐）
- 视频网站评论区、相关推荐
- 新闻网站弹窗广告、热点推送

#### 智能预设规则库
- 预置主流网站（B站、Youtube、知乎）的净化规则
- 用户可自定义CSS选择器保存个人规则

## 技术架构

### Manifest V3 结构
```
chrome-focus-guard/
├── manifest.json              # 扩展清单文件
├── background/
│   └── service-worker.js      # 后台服务工作者
├── content-scripts/
│   ├── content.js             # 内容脚本
│   ├── focus-timer.js         # 番茄钟功能
│   └── page-cleaner.js        # 页面净化功能
├── popup/
│   ├── index.html             # 弹出窗口
│   ├── popup.js               # 弹出窗口逻辑
│   └── popup.css              # 弹出窗口样式
├── options/
│   ├── index.html             # 选项页面
│   ├── options.js             # 选项页面逻辑
│   └── options.css            # 选项页面样式
├── pages/
│   ├── focus-redirect.html    # 专注重定向页面
│   └── focus-redirect.js      # 重定向页面逻辑
└── utils/
    ├── storage.js             # 存储管理
    ├── url-matcher.js         # URL匹配器
    └── focus-stats.js         # 专注统计
```

## 开发计划

### Phase 1: 基础架构
- [x] 初始化 Manifest V3 结构
- [ ] 实现存储管理系统
- [ ] 实现URL匹配器
- [ ] 基础UI组件

### Phase 2: 核心功能
- [ ] 智能网站屏蔽系统
- [ ] 沉浸式番茄钟
- [ ] 页面净化引擎

### Phase 3: 高级功能
- [ ] 数据统计和成就系统
- [ ] 第三方工具集成
- [ ] 用户自定义规则

## 安装和开发

1. 克隆仓库
```bash
git clone <repository-url>
cd chrome-focus-guard
```

2. 在Chrome中加载扩展
- 打开 Chrome 扩展管理页面 (`chrome://extensions/`)
- 开启"开发者模式"
- 点击"加载已解压的扩展程序"
- 选择项目根目录

3. 开发调试
- 修改代码后，在扩展管理页面点击"重新加载"
- 使用 Chrome DevTools 调试 background 和 content scripts

